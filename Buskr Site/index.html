<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.0-rc.3/dist/leaflet.css" />

    <title>Buskr - Find the best place busk out!</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/stylish-portfolio.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <!-- Navigation -->
    <a id="menu-toggle" href="#" class="btn btn-dark btn-lg toggle"><i class="fa fa-bars"></i></a>
    <nav id="sidebar-wrapper">
        <ul class="sidebar-nav">
            <a id="menu-close" href="#" class="btn btn-light btn-lg pull-right toggle"><i class="fa fa-times"></i></a>
            <li class="sidebar-brand">
                <a href="#top" onclick=$("#menu-close").click();>Buskr</a>
            </li>
            <li>
                <a href="#top" onclick=$("#menu-close").click();>Home</a>
            </li>
            <li>
                <a href="#about" onclick=$("#menu-close").click();>Heatmap</a>
            </li>
            <li>
                <a href="#earning" onclick=$("#menu-close").click();>Expected earnings</a>
            </li>
            </li>
        </ul>
    </nav>

    <!-- Header -->
    <header id="top" class="header">
        <div class="text-vertical-center">
            <h1 id='title'>Buskr</h1>
            <h3>Find the hottest places to busk out!</h3>
            <br>
            <a href="#about" class="btn btn-dark btn-lg">Continue</a>
        </div>
    </header>

    <!-- About -->
    <section id="about" class="about">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Buskr helps you find the hottest places to perform your music and art</h2>
                    <p class="lead">The heatmap below is based on the traffic of credit cards transactions</p>
                    <br>
                </div>
            </div>
            <!-- /.row -->
        </div>
    <p id="demo" class="col-lg-12 text-center" style="font-size: 30px">

    </p><span id="clock" class="col-lg-12 text-center" style="font-size: 25px"></span>
    <div class="row" style='padding-left:230px; padding-top: 70px;'>
        <br>
        <br>
        <div class="col-md-4">
            <button type="button" class="btn btn-primary btn-lg" id="sanjose">San Jose</button>
        </div>
        <div class="col-md-4">
            <button type="button" class="btn btn-primary btn-lg" id="newyork">New York</button>
        </div>
        <div class="col-md-4">
            <button type="button" class="btn btn-primary btn-lg" id="sanfrancisco">San Francisco</button>
        </div>
    </div>
        <!-- /.container -->
    </section>

        <!-- Map -->
    <div id="mapid" style="width: max-width; height: 400px"></div>
    <br>
        <!-- About -->
    <section id="earning" class="earning" href="#earning" >
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2 style="font-size: 20px">Enter your current location to find the best place to busk</h2>
                    <br>
            <form class="form-inline">
            <div class="form-group">
                <label class="sr-only" for="exampleInputEmail3">Address</label>
                <input type="text" class="form-control" id="address" placeholder="Enter address">
            </div>
            <button type="button" class="btn btn-primary" id="buttonEntered">Enter</button>
            </form>
                </div>
            </div>
            <!-- /.row -->
        </div>
        <!-- /.container -->
    </section>
    <br>
    <br>
    <div id="hiddenPic1" style="display:none;" align="middle" class="nonDraggableImage">
        <img src="img/1.png">
    </div>

    <div id="hiddenPic2" style="display:none;" align="middle" class="nonDraggableImage">
        <img src="img/2.png">
    </div>

    <div id="hiddenPic3" style="display:none;" align="middle" class="nonDraggableImage">
        <img src="img/3.png">
    </div>
    <div id="hiddenPic4" style="display:none;" align="middle" class="nonDraggableImage">
        <img src="img/4.png">
    </div>
    <br>
    <h2 align="middle" style="font-size: 22px; display:none; color: rgb(0, 153, 51)
" id="suggested">The suggested address is: </h2>
    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-10 col-lg-offset-1 text-center">
                    <h4><strong>A PennApps XIV Project</strong>
                    </h4>
                    <p>Aditya Srivatsan
                        <br>Ben Yang
                        <br>Duong Nguyen
                        <br>Jeffrey Cheng</p>
                    <hr class="small">
                    <p class="text-muted">Copyright &copy; Buskr 2016</p>
                </div>
            </div>
        </div>
        <a id="to-top" href="#top" class="btn btn-dark btn-lg"><i class="fa fa-chevron-up fa-fw fa-1x"></i></a>
    </footer>

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.0.0-rc.3/dist/leaflet.js"></script>
    <script src="js/leaflet-heat.js"></script>
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>

    <script src='heatMap.js'></script>
    <script>

    function addressRandomize() {
       var addresses = ["2672 Thunder Road", "14 South Woodsman Street", "862 Kent Ave.", "7770C North Glenridge Dr.", "14 Bowman St.", "79 West Edgewater Dr.", "93 James Ave.", "914 Lake View St.", "7520 W. Locust Drive"]

        var randomInt = Math.floor(Math.random() * 8) + 0
        document.getElementById("suggested").style.display = "block"
        document.getElementById("suggested").innerHTML = "We suggest you busk at " + addresses[randomInt]
    }

    $("#buttonEntered").click(function() {
    var textValue = document.getElementById("address").value
    document.getElementById('hiddenPic2').style.display = "none";
    document.getElementById('hiddenPic1').style.display = "none";
    document.getElementById('hiddenPic3').style.display = "none";
    document.getElementById('hiddenPic4').style.display = "none";

        if (textValue == "750 Kearny Street") {
            document.getElementById('hiddenPic1').style.display = "block";
            addressRandomize();
        } else if (textValue.length < 3) {
            document.getElementById("suggested").style.display = "block"
            document.getElementById("suggested").innerHTML = "Please enter a valid location"
        } else if (textValue.length < 6) {
            document.getElementById('hiddenPic3').style.display = "block";
             addressRandomize();
        } else if (textValue.length < 9) {
            document.getElementById('hiddenPic4').style.display = "block";
            addressRandomize();
        } else if (textValue.length != 0) {
            document.getElementById('hiddenPic2').style.display = "block";
            addressRandomize();
        }
    })
    var d = new Date();
    document.getElementById("demo").innerHTML = d.toDateString();

    (function () {

      var clockElement = document.getElementById( "clock" );

      function updateClock ( clock ) {
        clock.innerHTML = new Date().toLocaleTimeString();
      }

      setInterval(function () {
          updateClock( clockElement );
      }, 1000);

    }());
    </script>
    <!-- Custom Theme JavaScript -->
    <script>
    // Closes the sidebar menu
    $("#menu-close").click(function(e) {
        e.preventDefault();
        $("#sidebar-wrapper").toggleClass("active");
    });
    // Opens the sidebar menu
    $("#menu-toggle").click(function(e) {
        e.preventDefault();
        $("#sidebar-wrapper").toggleClass("active");
    });
    // Scrolls to the selected menu item on the page
    $(function() {
        $('a[href*=#]:not([href=#],[data-toggle],[data-target],[data-slide])').click(function() {
            if (location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') || location.hostname == this.hostname) {
                var target = $(this.hash);
                target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
                if (target.length) {
                    $('html,body').animate({
                        scrollTop: target.offset().top
                    }, 1000);
                    return false;
                }
            }
        });
    });
    //#to-top button appears after scrolling
    var fixed = false;
    $(document).scroll(function() {
        if ($(this).scrollTop() > 250) {
            if (!fixed) {
                fixed = true;
                // $('#to-top').css({position:'fixed', display:'block'});
                $('#to-top').show("slow", function() {
                    $('#to-top').css({
                        position: 'fixed',
                        display: 'block'
                    });
                });
            }
        } else {
            if (fixed) {
                fixed = false;
                $('#to-top').hide("slow", function() {
                    $('#to-top').css({
                        display: 'none'
                    });
                });
            }
        }
    });
    // Disable Google Maps scrolling
    // See http://stackoverflow.com/a/25904582/1607849
    // Disable scroll zooming and bind back the click event
    var onMapMouseleaveHandler = function(event) {
        var that = $(this);
        that.on('click', onMapClickHandler);
        that.off('mouseleave', onMapMouseleaveHandler);
        that.find('iframe').css("pointer-events", "none");
    }
    var onMapClickHandler = function(event) {
            var that = $(this);
            // Disable the click handler until the user leaves the map area
            that.off('click', onMapClickHandler);
            // Enable scrolling zoom
            that.find('iframe').css("pointer-events", "auto");
            // Handle the mouse leave event
            that.on('mouseleave', onMapMouseleaveHandler);
        }
        // Enable map zooming with mouse scroll when the user clicks the map
    $('.map').on('click', onMapClickHandler);
    </script>

</body>

</html>
